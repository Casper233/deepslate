---
title: Noise Sampler
---
import { NoiseSampler } from 'deepslate'
import Plot from '@site/src/components/Plot'

export const overworldSettings = {
	minY: 0,
	height: 256,
	densityFactor: 1,
	densityOffset: 0,
	xzSize: 1,
	ySize: 2,
	sampling: { xzScale: 1, yScale: 1, xzFactor: 80, yFactor: 160 },
	bottomSlide: { offset: 0, size: 0, target: 0 },
	topSlide: { offset: 0, size: 0, target: 0 },
}
export const overworldOctaves = {
	temperature: { firstOctave: -9, amplitudes: [1.5, 0, 1, 0, 0, 0] },
	humidity: { firstOctave: -7, amplitudes: [1, 1, 0, 0, 0, 0] },
	continentalness: { firstOctave: -9, amplitudes: [1, 1, 2, 2, 2, 1, 1, 1, 1] },
	erosion: { firstOctave: -9, amplitudes: [1, 1, 0, 1, 1] },
	weirdness: { firstOctave: -7, amplitudes: [1, 2, 1, 0, 0, 0] },
	shift: { firstOctave: -3, amplitudes: [1, 1, 1, 0] },
}

```ts
const sampler = new NoiseSampler(4, 8, 48, noiseSettings, noiseOctaves,
	BigInt(40162), { offset: 0.03, factor: 343, peaks: 0, nearWater: false })
const column = Array(49)
sampler.fillNoiseColumn(column, x, 0, 0, 48)
```

<Plot name="Overworld" width={96} height={48} scale={6}
	initializer={() => ({
		sampler: new NoiseSampler(4, 8, 48, null, overworldSettings, overworldOctaves, BigInt(40162), { offset: 0.03, factor: 343, peaks: 0, nearWater: false }),
		column: Array(49)
	})}
	column={({ sampler, column }, x) => sampler.fillNoiseColumn(column, x, 0, 0, 48)}
	sampler={({ column }) => (x, y) => column[48 - y]}
	colorizer={value => (Math.max(-1, Math.min(1, value / -200)) + 1) * 128}
/>

<Plot name="Overworld peaks" width={96} height={49} scale={6}
	initializer={() => ({
		sampler: new NoiseSampler(4, 8, 48, null, overworldSettings, overworldOctaves, BigInt(40162), { offset: 0.3, factor: 600, peaks: 80, nearWater: false }),
		column: Array(49)
	})}
	column={({ sampler, column }, x) => sampler.fillNoiseColumn(column, x, 0, 0, 48)}
	sampler={({ column }) => (x, y) => column[48 - y]}
	colorizer={value => (Math.max(-1, Math.min(1, value / -200)) + 1) * 128}
/>

export const netherSettings = {
	minY: 0,
	height: 128,
	densityFactor: 0,
	densityOffset: -0.03,
	xzSize: 2,
	ySize: 1,
	sampling: { xzScale: 1, yScale: 1, xzFactor: 80, yFactor: 80 },
	bottomSlide: { offset: -1, size: 4, target: 320 },
	topSlide: { offset: 0, size: 3, target: 120 },
}

export const netherOctaves = {
	temperature: { firstOctave: -7, amplitudes: [1, 1] },
	humidity: { firstOctave: -7, amplitudes: [1, 1] },
	continentalness: { firstOctave: -7, amplitudes: [1, 1] },
	erosion: { firstOctave: -7, amplitudes: [1, 1] },
	weirdness: { firstOctave: -7, amplitudes: [1, 1] },
	shift: { firstOctave: 0, amplitudes: [0] },
}

export function NetherPlot({ z }) {
	return <Plot name={`Nether z=${z}`} width={32} height={17} scale={6}
		initializer={() => ({
			sampler: new NoiseSampler(4, 8, 16, null, netherSettings, netherOctaves, BigInt(40162), { offset: 0, factor: 1, peaks: 0, nearWater: false }),
			column: Array(17)
		})}
		column={({ sampler, column }, x) => sampler.fillNoiseColumn(column, x, z, 0, 16)}
		sampler={({ column }) => (x, y) => column[16 - y]}
		colorizer={value => (Math.max(-1, Math.min(1, value / -200)) + 1) * 128}
	/>
}

<NetherPlot z={0} />
<NetherPlot z={1} />
<NetherPlot z={2} />
<NetherPlot z={3} />
<NetherPlot z={4} />
<NetherPlot z={5} />

<Plot name="Nether top-down y=64" width={64} height={64} scale={6}
	initializer={() => ({
		sampler: new NoiseSampler(4, 8, 16, null, netherSettings, netherOctaves, BigInt(40162), { offset: 0, factor: 1, peaks: 0, nearWater: false }),
		column: Array(17)
	})}
	sampler={({ sampler, column }) => (x, y) => {
		sampler.fillNoiseColumn(column, x, y, 0, 16)
		return column[8]
	}}
	colorizer={value => (Math.max(-1, Math.min(1, value / -200)) + 1) * 128}
/>
